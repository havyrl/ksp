PART
{
	name = RSBtankAtlasVcore
	module = Part
	author = NecroBones
	RSBclass = atlas

	MODEL
	{
		model = RealScaleBoosters/Parts/Atlas/RSBtankAtlasVcore
		scale = 1.0, 1.0, 1.0
	}

	scale = 1.0
	rescaleFactor = 1

	node_stack_top = 0.0, 14.5, 0.0, 0.0, 1.0, 0.0, 3
	node_stack_bottom = 0.0, -14.5, 0.0, 0.0, -1.0, 0.0, 3
	node_attach = 1.875, 0.0, 0.0, 1.0, 0.0, 0.0, 3

	CoPOffset = 0.0, -2.0, 0.0
	CoMOffset = 0.0, 1.0, 0.0

	TechRequired = highPerformanceFuelSystems
	entryCost = 75000
	cost = 40500
	category = FuelTank
	subcategory = 0
	title =  Atlas V Common Core Booster (3.81m)
	manufacturer = Real Scale Boosters
	description = This common booster core can either function as a single core, or center core, or strap-on booster. Manufactured by United Launch Alliance.
	attachRules = 1,1,1,1,0

	tags = atlas ?rsb fueltank ?lfo liquid oxidizer propellant rocket

	stackSymmetry = 3

	mass = 15.5425	// 21.054t dry mass, minus RD-180 engine (5.48t), minus 31 units retro propellant (0.0315t)
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 2
	crashTolerance = 6
	maxTemp = 2100
	bulkheadProfiles = size3

	stagingIcon = SOLID_BOOSTER

	breakingForce = 125000
	breakingTorque = 125000

	// 284,089 kg Capacity in 5kg units: 56,817
	// Should be RP-1 and LOX

	RESOURCE
	{
		name = LiquidFuel
		amount = 25567.65
		maxAmount = 25567.65
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 31249.35
		maxAmount = 31249.35
	}
	MODULE
	{
		name = ModuleEnginesFX
		engineID = RSBatlasVccb
		runningEffectName = running_closed
		thrustVectorTransformName = thrustTransform
		throttleLocked = True
		exhaustDamage = True
		allowShutdown = False
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 42.5 // 5.311 * 8, rounded to 0.5 kN
		heatProduction = 50
		fxOffset = 0, 0, 0
		EngineType = SolidBooster
		PROPELLANT
		{
			name = SolidFuel
       	 		ratio = 1.0
			DrawGauge = True
		}
		atmosphereCurve
		{
			key = 0 262.9
			key = 1 200
			key = 12 0.001
		}
		exhaustDamageMultiplier = 200 // 1/10th default
	}

	RESOURCE
	{
		name = SolidFuel
		amount = 4.2
		maxAmount = 8	// Allow optionally more propellant
	}

	EFFECTS
	{
		running_closed
		{
			AUDIO
			{
				channel = Ship
				clip = Squad/Sounds/sound_rocket_mini
				volume = 0.0 0.0
				volume = 1.0 1.0
				pitch = 0.0 0.8
				pitch = 1.0 2.0
				loop = true
			}
			MODEL_MULTI_PARTICLE
			{
				modelName = RealScaleBoosters/FX/RSBemitterUllage	// Squad/FX/ksX_Exhaust
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.05 0.0
				emission = 0.075 0.25
				emission = 1.0 1.0
				speed = 0.0 0.5
				speed = 1.0 1.0
			}
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
	}

//	MODULE
//	{
//	      name = FlagDecal
//	      textureQuadName = flagDecal
//	}
}
