PART
{
	name = RSBtankSaturnSIC
	module = Part
	author = NecroBones
	RSBclass = saturn

	MODEL
	{
		model = RealScaleBoosters/Parts/Saturn/RSBtankSaturnSIC
		scale = 1.0, 1.0, 1.0
	}

	scale = 1.0
	rescaleFactor = 1

	node_stack_top = 0.0, 18.65, 0.0, 0.0, 1.0, 0.0, 6
	node_stack_bottom = 0.0, -18.0, 0.0, 0.0, -1.0, 0.0, 3
	node_stack_bottom01 = 3.25, -18.0, 3.25, 0.0, -1.0, 0.0, 3
	node_stack_bottom02 = -3.25, -18.0, 3.25, 0.0, -1.0, 0.0, 3
	node_stack_bottom03 = 3.25, -18.0, -3.25, 0.0, -1.0, 0.0, 3
	node_stack_bottom04 = -3.25, -18.0, -3.25, 0.0, -1.0, 0.0, 3
	node_attach = 0.0, 0.0, -5.0, 0.0, 0.0, 1.0, 5
	
	stackSymmetry = 3

	CoPOffset = 0.0, -5.0, 0.0
	CoMOffset = 0.0, -1.0, 0.0

	fx_gasBurst_white = 0.0, 18.65, 0.0, 0.0, 1.0, 0.0, decouple
	sound_decoupler_fire = decouple

	TechRequired = highPerformanceFuelSystems
	entryCost = 2250000
	cost = 999500
	category = FuelTank
	subcategory = 0
	title = Saturn S-IC First Stage Tank (10m)
	manufacturer = Real Scale Boosters
	description = The first stage of the Saturn V. Includes explosive bolts for separation in the forward skirt. Manufactured by Boeing.
	attachRules = 1,1,1,1,0

	tags = saturnv saturn ?rsb fueltank ?lfo liquid oxidizer propellant rocket

	mass = 85		// weight after removing 5x F-1 engines and 4x fins, and 8x ullage propellants
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 2
	crashTolerance = 6
	maxTemp = 2100
	bulkheadProfiles = size6

	breakingForce = 525000
	breakingTorque = 525000


	ActivatesEvenIfDisconnected = true
	stagingIcon = DECOUPLER_VERT

	MODULE
	{
		name = ModuleEnginesFX
		engineID = RSBullageSaturn
		runningEffectName = running_closed
		thrustVectorTransformName = thrustTransform
		throttleLocked = True
		exhaustDamage = True
		allowShutdown = False
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 2696		// 337 * 8
		heatProduction = 200
		fxOffset = 0, 0, 0
		EngineType = SolidBooster
		PROPELLANT
		{
			name = SolidFuel
       	 		ratio = 1.0
			DrawGauge = True
		}
		atmosphereCurve
		{
			key = 0 148
			key = 1 120
			key = 12 0.001
		}
		exhaustDamageMultiplier = 200 // 1/10th default
	}

	// Propellant: 278 lbs * 8 = 1008.8 kg = 134.5 units  (7.5 kg/unit, solid fuel)

	RESOURCE
	{
		name = SolidFuel
		amount = 134.5
		maxAmount = 134.5
	}
	MODULE
	{
		name = ModuleDecouple
		ejectionForce = 500
		explosiveNodeID = top
		//isOmniDecoupler = true
	}

	// Capacity in 5kg units: 433,800	(from nasa manual: 429,426 = 2147130.286 kg)
	// Should be RP-1 (kerosene) and LOX

	RESOURCE
	{
		name = LiquidFuel
		amount = 195210
		maxAmount = 195210
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 238590
		maxAmount = 238590
	}
	MODULE
	{
	      name = FlagDecal
	      textureQuadName = flagDecal
	}
	EFFECTS
	{
		running_closed
		{
			AUDIO
			{
				channel = Ship
				clip = Squad/Sounds/sound_rocket_mini
				volume = 0.0 0.0
				volume = 1.0 1.0
				pitch = 0.0 0.8
				pitch = 1.0 2.0
				loop = true
			}
			MODEL_MULTI_PARTICLE
			{
				modelName = RealScaleBoosters/FX/RSBemitterUllage	// Squad/FX/ksX_Exhaust
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.05 0.0
				emission = 0.075 0.25
				emission = 1.0 1.0
				speed = 0.0 0.5
				speed = 1.0 1.0
			}
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
	}
}
