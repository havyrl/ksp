PART
{
	name = RSBtankPSLVps4
	module = Part
	author = NecroBones
	RSBclass = pslv

	MODEL
	{
		model = RealScaleBoosters/Parts/ISRO/RSBtankPSLVps4
		texture = RSBengineBell-Specular, RealScaleBoosters/Parts/Engines/RSBengineBell-Specular
		scale = 1.0, 1.0, 1.0
	}

	scale = 1.0
	rescaleFactor = 1

	node_stack_payload1 = 0.9, -0.15, 0.0, 0.0, 1.0, 0.0, 0
	node_stack_payload2 = -0.9, -0.15, 0.0, 0.0, 1.0, 0.0, 0
	node_stack_payload3 = 0.0, -0.15, 0.9, 0.0, 1.0, 0.0, 0
	node_stack_payload4 = 0.0, -0.15, -0.9, 0.0, 1.0, 0.0, 0

	node_stack_bottom = 0.0, -1.2, 0.0, 0.0, -1.0, 0.0, 2
	node_stack_top = 0.0, 1.4, 0.0, 0.0, 1.0, 0.0, 1

	node_stack_connect1 = 1.4, -0.9, 0.0, -1.0, 0.0, 0.0, 1
	node_stack_connect2 = -1.4, -0.9, 0.0, 1.0, 0.0, 0.0, 1

	stackSymmetry = 1

	CoPOffset = 0.0, -0.35, 0.0
	CoMOffset = 0.0, 0.35, 0.0

	// --- FX definitions ---

	fx_gasBurst_white = 0.0, -1.2, 0.0, 0.0, 1.0, 0.0, decouple
	sound_decoupler_fire = decouple

	fx_exhaustFlame_blue_small = 0.0, -21.0, 0.0, 0.0, 1.0, 0.0, running
	fx_exhaustLight_blue = 0.0, -21.0, 0.0, 0.0, 0.0, 1.0, running
	fx_smokeTrail_light = 0.0, -21.0, 0.0, 0.0, 1.0, 0.0, running
	sound_vent_medium = engage
	sound_rocket_hard = running
	sound_vent_soft = disengage
	sound_explosion_low = flameout

	TechRequired = highPerformanceFuelSystems
	entryCost = 125000
	cost = 25000
	category = FuelTank
	subcategory = 0
	title = ISRO PSLV PS4 Fourth Stage (2.8m)
	manufacturer = Real Scale Boosters
	description = Fourth stage of the Polar Satellite Launch Vehicle, from the Indian Space Research Organization. Equiped with guidance capability, and small attachment points for secondary cubesat payloads. Decouples at the bottom. Fueled with Monomethylhydrazine(MMH), oxidized with MON3 (mixed nitrogen oxides) or Nitrogen Tetroxide (N2O4).
	attachRules = 1,0,1,1,0

	tags = ?isro ?pslv ?rsb fueltank ?lfo liquid oxidizer propellant rocket ?rsb cmg command control (core fly gyro moment probe react sas satellite space stab steer torque instrum guidan

	mass = 0.90		// 0.92 - 0.02 (2 RCS blocks)
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 2
	crashTolerance = 7
	maxTemp = 2100
	bulkheadProfiles = size2, size1

	breakingForce = 1500
	breakingTorque = 1500

	vesselType = Probe
	CrewCapacity = 0

	stageOffset = 1
	childStageOffset = 1

	ActivatesEvenIfDisconnected = true
	stagingIcon = DECOUPLER_VERT

	MODULE
	{
		name = ModuleDecouple
		ejectionForce = 50
		explosiveNodeID = bottom
	}

	// 2 tons: Capacity in 5kg units: 265 (rounded) ... http://spaceflight101.com/spacerockets/pslv/
	// Should be MMH + N2O4, or MMH + MON3

	RESOURCE
	{
		name = LiquidFuel
		amount = 119.25
		maxAmount = 119.25
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 145.75
		maxAmount = 145.75
	}


	RESOURCE
	{
		name = MonoPropellant
		amount = 5		// total guess
		maxAmount = 5
	}

	MODULE
	{
		name = ModuleEngines
		thrustVectorTransformName = fxTransform
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 14.6	// http://spaceflight101.com/spacerockets/pslv/
		heatProduction = 150
		fxOffset = 0, 0, 0.0
		EngineType = LiquidFuel
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
		}
		atmosphereCurve
		{
			key = 0 309	// http://spaceflight101.com/spacerockets/pslv/
			key = 1 270
			key = 7 0.001
		}
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = gimbalTransform1
		gimbalRange = 3
	}
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = gimbalTransform2
		gimbalRange = 3
	}

	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0
	
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.08
		}
	}

	RESOURCE
	{
		name = ElectricCharge
		amount = 4000
		maxAmount = 4000
	}


	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}

	MODULE
	{
		name = ModuleSPU
		IsRTCommandStation = true
		RTCommandMinCrew = 6
	}
	
	MODULE
	{
		name = ModuleRTAntennaPassive
		TechRequired = unmannedTech
		OmniRange = 3000
			
		TRANSMITTER
		{
			PacketInterval = 0.3
			PacketSize = 2
			PacketResourceCost = 15.0
		}
	}
}
